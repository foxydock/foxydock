include snippets/example/by_version/v3/by_app/by_name/fdn/app/ingress/mix_app_ingress_map.conf;

server {
    server_name headscale.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_headscale.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_headscale.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_context/http/server/mix_server_headscale.conf;
}

server {
    server_name jfrog.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_jfrog.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_jfrog.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_context/http/server/mix_server_jfrog.conf;
}

server {
    server_name mihomo.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_mihomo.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_mihomo.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_context/http/server/mix_server_mihomo.conf;
}

server {
    server_name transmission.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_transmission.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_transmission.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_context/http/server/mix_server_transmission.conf;
}

server {
    server_name ttyd.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_ttyd.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_ttyd.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_context/http/server/mix_server_ttyd.conf;
}

server {
    server_name fdn-404.docker.internal;
    listen unix:/var/run/nginx/fdn_app_server_404.sock default_server;
    listen unix:/var/run/nginx/fdn_app_server_tls_404.sock ssl default_server;
    include snippets/example/by_version/v3/by_app/by_name/fdn/app/ingress/direct/mix_server_no_location_setting.conf;

    location / {
        return 404;
    }
}

server {
    include snippets/example/by_version/v3/by_app/by_name/fdn/app/common/mix_default_server.conf;
}

server {
    include snippets/example/by_version/v3/by_app/by_name/fdn/app/ingress/mix_default_server.conf;
}
